<!DOCTYPE html>
<html>
  <head>
    <title>T-Shirt Dev Portal - Wrasey API</title>
  </head>
  <body>
    <center>
    <h1>Warsey T-Shirt Text Debug</h1>
    <h3 id="selected">Current T-Shirt: none</h3>
    <input type="text" placeholder="Your Name " id="inputId">
    <button type="button" onclick="getInputValue();">Get your shirt</button><br><br>
    <img id="tshirt" width="40%"><br>
    <button onclick="setTshirt('gotunisia-white');">Go Tunisia White M:1</button>
    <button onclick="setTshirt('gotunisia-white2');">Go Tunisia White M:2</button>
    <button onclick="setTshirt('gotunisia-red');">Go Tunisia Red</button>
    <button onclick="setTshirt('gotunisia-black');">Go Tunisia Black</button>
    </center>
    <script>
      const selected = document.getElementById("selected");
      function getInputValue() {
        let inputVal = document.getElementById("inputId").value;
        server="192.168.1.122:5000"
        text=inputVal.replace('&', ' ');
        text=text.replace('+', ' ');
        text=text.replace('/', ' ');
        imgsource="http://"+server+"/api/design/tshirt?text="+text+"&template="+window.template;
        document.getElementById("tshirt").src=imgsource;
      }
      function setTshirt(template) {
        window.template = template;
        selected.textContent = "Current T-Shirt: "+template;
      }
      window.template = "gotunisia-red";
      selected.textContent = "Current T-Shirt: gotunisia-red";
    </script>
  </body>
</html>